<!DOCTYPE html>
<html lang="en">

<head>
	<script src='https://d3js.org/d3.v7.min.js'></script>
</head>

<body>
	<button> <a href="index.html">Back</a> </button>
	<style>
		div {
			position: relative;
			background-color: yellow;
			padding: 20px;
			display: none;
		}

		span:hover+div {
			position: absolute;
			display: inline-block;
		}
	</style>
	<script>
		var width = 800
    var height = 800
    var elements = []
    var extras = []

    function getRandomInt(max) {
      return Math.floor(Math.random()*max);
    }

    
    for (var i=0; i<5; i++) {
      random_width = getRandomInt(width)
      random_height = getRandomInt(height)
      console.log("Adding Element")
      var span = d3.select("body")
        .append("span") 
        .on("mouseover", function(event) {
          d3.select(this).style("background-color", "pink")
          d3.select(this).text("These are my coordinates: ")
        })
        .on("mouseout", function(event) {
          d3.select(this).style("background-color", "white")
          d3.select(this).text("Hover Over Me!")
        })
        .style("position", "absolute")
        .style("left", random_width+"px")
        .style("top", random_height+"px")
        .text("Hover Over Me!")
      	.style("font-family", "Trebuchet MS")
      elements.push(span)
      var extra = d3.select("body")
        .append("div")
        .style("position", "absolute")
        .style("left", random_width+"px")
        .style("top", (random_height+20)+"px")
        .text("X: "+ random_width + ", Y: "+ random_height)
      	.style("font-family", "Trebuchet MS")
      extras.push(extra)
    }

    function addElement() {
      random_width = getRandomInt(width)
      random_height = getRandomInt(height)
      console.log("Adding Element")
      var span = d3.select("body")
        .append("span") 
        .on("mouseover", function(event) {
          d3.select(this).style("background-color", "pink")
          d3.select(this).text("These are my coordinates: ")
        })
        .on("mouseout", function(event) {
          d3.select(this).style("background-color", "white")
          d3.select(this).text("Hover Over Me!")
        })
        .style("position", "absolute")
        .style("left", random_width+"px")
        .style("top", random_height+"px")
        .text("Hover Over Me!")
      elements.push(span)
      var extra = d3.select("body")
        .append("div")
        .style("position", "absolute")
        .style("left", random_width+"px")
        .style("top", (random_height+20)+"px")
        .text("X: "+ random_width + ", Y: "+ random_height)
      extras.push(extra)
    }

    function removeElement() {
      console.log("removeing Element")
      var element = elements.pop(0);
      element.remove();
      var extra = extras.pop(0);
    }
    setInterval(removeElement, 4000)
    setInterval(addElement, 4000)

	</script>
</body>

</html>
